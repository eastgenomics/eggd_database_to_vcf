{
    "name": "eggd_inca_to_vcf",
    "title": "eggd_inca_to_vcf",
    "summary": "Creates a VCF from a variant database export",
    "dxapi": "1.0.0",
    "version": "2.0.0",
    "inputSpec": [
      {
        "name": "database",
        "label": "Database type",
        "class": "string",
        "optional": false,
        "choices": ["inca", "variant_store"],
        "help": "Type of database (inca or variant_store)"
      },
      {
        "name": "input_file",
        "label": "Database export CSV file",
        "class": "file",
        "optional": false,
        "patterns": [
          "*.csv"
        ],
        "help": "Database export as a CSV file"
      },
      {
        "name": "output_filename",
        "label": "Optional output filename",
        "class": "string",
        "optional": true,
        "default": "",
        "help": "Name for output VCF file"
      },
      {
        "name": "genome_build",
        "label": "Genome build",
        "class": "string",
        "optional": false,
        "choices": ["GRCh37", "GRCh38"],
        "help": "Genome build for header annotation"
      },
      {
        "name": "probeset",
        "label": "Probeset",
        "class": "string",
        "optional": true,
        "default": "",
        "help": "Probeset to optionally filter inca variants by (germline or somatic)"
      },
      {
        "name": "threshold_af",
        "label": "AF threshold",
        "class": "float",
        "optional": true,
        "default": 0.0,
        "help": "If provided, return sample IDs for variants where AF < threshold (variant_store only)"
      },
      {
        "name": "capture",
        "label": "Assay capture",
        "class": "string",
        "optional": true,
        "default": "",
        "help": "Assay and panel version used to create the data, e.g. MYE_v3 (required for variant_store)"
      }
    ],
    "outputSpec": [
      {
        "name": "output_vcf",
        "label": "Output VCF of aggregated info from database CSV",
        "class": "file",
        "patterns": [
          "*.vcf.gz"
        ],
        "help": "",
        "optional": false
      },
      {
        "name": "output_index",
        "label": "Output index for VCF",
        "class": "file",
        "patterns": [
          "*.vcf.gz.tbi"
        ],
        "help": "",
        "optional": false
      }
    ],
    "runSpec": {
      "timeoutPolicy": {
        "*": {
          "hours": 1
        }
      },
      "interpreter": "python3",
      "file": "resources/home/dnanexus/generate_inca_vcf.py",
      "distribution": "Ubuntu",
      "release": "24.04",
      "version": "0"
    },
    "access": {
      "project": "CONTRIBUTE",
      "allProjects": "CONTRIBUTE"
    },
    "developers":[
      "org-emee_1"
    ],
    "authorizedUsers": [
      "org-emee_1"
    ],
    "regionalOptions": {
      "aws:eu-central-1": {
        "systemRequirements": {
          "*": {
            "instanceType": "mem1_ssd1_v2_x2"
          }
        }
      }
    }
  }
